# 消息增强功能测试计划

**作者**: Ezra
**日期**: 2025年10月09日

## 1. 简介

本文档为 AI-Life-system 项目中实现的消息增强功能提供了一套全面的测试计划。这些功能旨在改善用户与聊天机器人的交互体验。测试范围包括消息的编辑、删除、重新生成、复制以及对话的导出功能。

## 2. 测试范围

以下功能点将作为本次测试的重点:

| 功能模块 | 具体功能 | 测试要点 |
| :--- | :--- | :--- |
| **消息操作** | 编辑消息 | - 仅用户消息可编辑<br>- 编辑界面正常切换<br>- 保存和取消功能正常<br>- 编辑后状态正确更新 |
| | 删除消息 | - 用户和助手消息均可删除<br>- 删除前有确认提示<br>- 删除后消息从列表中移除 |
| | 重新生成 | - 仅助手消息可重新生成<br>- 点击后自动重新获取响应<br>- 重新生成期间有加载提示 |
| | 复制消息 | - 用户和助手消息均可复制<br>- 成功复制后有提示<br>- 兼容不同浏览器 |
| **对话导出** | 导出为文件 | - 支持 Markdown, TXT, JSON 格式<br>- 导出成功后有提示 |
| | 复制到剪贴板 | - 支持 Markdown 和 TXT 格式<br>- 复制成功或失败均有提示 |

## 3. 测试用例

### 3.1. 消息编辑

| 用例 ID | 测试描述 | 预置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- |
| TC-EDIT-01 | 成功编辑一条用户消息 | 存在一条用户发送的消息 | 1. 点击用户消息旁的“编辑”按钮<br>2. 修改消息内容<br>3. 点击“保存”按钮 | 1. 消息内容更新为修改后的内容<br>2. 消息旁边出现“(edited)”标记<br>3. 弹出“消息编辑成功”提示 |
| TC-EDIT-02 | 取消编辑用户消息 | 处于消息编辑模式 | 1. 点击“取消”按钮 | 消息内容恢复为原始状态,编辑界面关闭 |
| TC-EDIT-03 | 编辑按钮在助手消息上不显示 | 存在一条助手生成的消息 | 1. 鼠标悬停在助手消息上 | “编辑”按钮不可见 |

### 3.2. 消息删除

| 用例 ID | 测试描述 | 预置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- |
| TC-DEL-01 | 成功删除一条用户消息 | 存在一条用户发送的消息 | 1. 点击用户消息旁的“删除”按钮<br>2. 在确认对话框中点击“确定” | 1. 该消息从对话列表中移除<br>2. 弹出“消息删除成功”提示 |
| TC-DEL-02 | 成功删除一条助手消息 | 存在一条助手生成的消息 | 1. 点击助手消息旁的“删除”按钮<br>2. 在确认对话框中点击“确定” | 1. 该消息从对话列表中移除<br>2. 弹出“消息删除成功”提示 |
| TC-DEL-03 | 取消删除消息 | 存在任意一条消息 | 1. 点击消息旁的“删除”按钮<br>2. 在确认对话框中点击“取消” | 消息保留在对话列表中,无任何变化 |

### 3.3. 消息重新生成

| 用例 ID | 测试描述 | 预置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- |
| TC-REGEN-01 | 成功重新生成助手响应 | 存在一条助手生成的消息 | 1. 点击助手消息旁的“重新生成”按钮 | 1. 原助手消息被移除<br>2. 弹出“正在重新生成响应...”提示<br>3. AI 开始生成新的响应 |
| TC-REGEN-02 | 重新生成按钮在用户消息上不显示 | 存在一条用户发送的消息 | 1. 鼠标悬停在用户消息上 | “重新生成”按钮不可见 |

### 3.4. 消息复制

| 用例 ID | 测试描述 | 预置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- |
| TC-COPY-01 | 成功复制一条消息 | 存在任意一条消息 | 1. 点击消息旁的“复制”按钮 | 1. 弹出“消息已复制到剪贴板”提示<br>2. 剪贴板内容为该消息的文本内容 |

### 3.5. 对话导出

| 用例 ID | 测试描述 | 预置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- |
| TC-EXPORT-01 | 成功导出为 Markdown 文件 | 当前对话包含多条消息 | 1. 点击顶部的“导出”按钮<br>2. 选择“Markdown (.md)” | 1. 触发浏览器下载一个 .md 文件<br>2. 弹出“对话导出成功”提示 |
| TC-EXPORT-02 | 成功复制对话为纯文本 | 当前对话包含多条消息 | 1. 点击顶部的“导出”按钮<br>2. 在“复制到剪贴板”部分选择“纯文本格式” | 1. 弹出“消息已复制到剪贴板”提示<br>2. 剪贴板内容为纯文本格式的对话记录 |

## 4. 环境要求

- **浏览器**: 最新版本的 Chrome, Firefox, Safari, Edge
- **操作系统**: Windows, macOS, Linux

## 5. 总结

此测试计划旨在确保消息增强功能的质量和稳定性。通过执行上述测试用例,可以有效地验证所有相关功能的正确性,并为用户提供流畅、可靠的体验。

