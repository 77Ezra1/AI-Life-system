# 文档管理功能

## 功能概述

文档管理模块是一个功能完整的文档链接管理系统，允许用户收集、组织和快速访问各类在线文档。采用 v0.dev 设计风格，提供简洁美观的用户界面。

## 主要特性

### 1. 文档管理
- ✅ 创建、编辑、删除文档
- ✅ 自定义文档标题、描述、URL
- ✅ 文档图标选择（28个预设图标）
- ✅ 文档分类管理
- ✅ 标签系统支持
- ✅ 收藏功能
- ✅ 归档功能

### 2. 搜索和过滤
- ✅ 全文搜索（标题和描述）
- ✅ 按分类筛选
- ✅ 按标签筛选
- ✅ 仅显示收藏
- ✅ 显示已归档
- ✅ 多种排序方式（更新时间、创建时间、标题、访问次数）

### 3. 访问统计
- ✅ 访问次数统计
- ✅ 最后访问时间
- ✅ 文档总数统计
- ✅ 收藏数统计
- ✅ 分类数统计
- ✅ 最常访问文档列表

### 4. 数据管理
- ✅ 导出文档（JSON格式）
- ✅ 导入文档
- ✅ 批量操作支持

## 使用说明

### 访问文档管理页面

1. 在侧边栏导航菜单中点击"Documents"图标（📖）
2. 或直接访问 `/documents` 路由

### 创建新文档

1. 点击左上角的"+ New"按钮
2. 填写必填信息：
   - **标题**：文档名称
   - **URL**：文档链接地址
3. 可选信息：
   - **图标**：点击图标按钮选择合适的图标
   - **描述**：文档说明
   - **分类**：选择或创建分类
   - **标签**：添加多个标签（按Enter键添加）
   - **收藏**：标记为收藏
   - **归档**：标记为归档状态
4. 点击"Save"保存

### 查看和访问文档

1. 在左侧文档列表中点击文档卡片查看详情
2. 在详情页面：
   - 查看完整描述
   - 查看所有标签
   - 查看访问统计
   - 点击"Open Link"按钮在新标签页打开文档链接
   - 点击底部的URL链接也可以直接访问

### 编辑文档

1. 选择要编辑的文档
2. 点击右上角的"Edit"按钮
3. 修改信息后点击"Save"

### 删除文档

1. 在文档列表中找到要删除的文档
2. 点击文档卡片右侧的"🗑️"图标
3. 确认删除

### 收藏文档

- 点击文档卡片右侧的"☆"图标将其标记为收藏
- 已收藏的文档会显示"⭐"图标
- 勾选"Favorites Only"复选框可以只显示收藏的文档

### 搜索文档

在搜索框中输入关键词，系统会自动搜索：
- 文档标题
- 文档描述

### 使用过滤器

1. **按分类过滤**：在"All Categories"下拉菜单中选择分类
2. **按标签过滤**：在"All Tags"下拉菜单中选择标签
3. **排序**：选择排序字段，点击"↑↓"按钮切换升序/降序

### 导出和导入

**导出文档：**
1. 点击底部的"📥 Export"按钮
2. 系统会下载包含所有文档的JSON文件

**导入文档：**
1. 点击底部的"📤 Import"按钮
2. 选择之前导出的JSON文件
3. 系统会显示导入成功的文档数量

## 技术实现

### 数据库设计

#### documents 表
```sql
- id: 主键
- user_id: 用户ID
- title: 标题
- description: 描述
- url: 链接地址
- category: 分类
- icon: 图标
- is_favorite: 是否收藏
- is_archived: 是否归档
- visit_count: 访问次数
- last_visited_at: 最后访问时间
- created_at: 创建时间
- updated_at: 更新时间
```

#### document_tags 表
```sql
- id: 主键
- document_id: 文档ID
- tag: 标签名称
```

#### document_categories 表
```sql
- id: 主键
- user_id: 用户ID
- name: 分类名称
- color: 分类颜色
- icon: 分类图标
- description: 分类描述
```

### API 端点

#### 文档操作
- `GET /api/documents` - 获取所有文档
- `GET /api/documents/:id` - 获取单个文档
- `POST /api/documents` - 创建文档
- `PUT /api/documents/:id` - 更新文档
- `DELETE /api/documents/:id` - 删除文档
- `GET /api/documents/search/:query` - 搜索文档
- `POST /api/documents/:id/visit` - 记录访问

#### 分类操作
- `GET /api/documents/categories/list` - 获取所有分类
- `POST /api/documents/categories` - 创建分类
- `PUT /api/documents/categories/:id` - 更新分类
- `DELETE /api/documents/categories/:id` - 删除分类

#### 标签和统计
- `GET /api/documents/tags/list` - 获取所有标签
- `GET /api/documents/stats/summary` - 获取统计信息

#### 导入导出
- `GET /api/documents/export/all` - 导出所有文档
- `POST /api/documents/import` - 导入文档

### UI 设计

采用 v0.dev 设计风格：
- 简洁的卡片式布局
- 柔和的颜色过渡
- 流畅的动画效果
- 响应式设计，支持移动端
- 暗色模式支持

### 前端组件

- `DocumentsPage.jsx` - 主页面
- `DocumentList.jsx` - 文档列表
- `DocumentEditor.jsx` - 文档编辑器
- `documentsApi.js` - API客户端

## 使用示例

### 典型使用场景

1. **技术文档收集**
   - 添加常用的技术文档链接
   - 使用分类如：React、Vue、Node.js
   - 使用标签如：教程、API文档、最佳实践

2. **学习资源整理**
   - 收集在线课程链接
   - 使用分类如：前端、后端、数据库
   - 标记重要资源为收藏

3. **工作文档管理**
   - 保存团队文档链接
   - 使用分类如：需求文档、设计文档、API文档
   - 通过访问统计找到常用文档

## 未来规划

- [ ] 添加文档预览功能
- [ ] 支持文档笔记
- [ ] 文档分享功能
- [ ] 文档同步功能
- [ ] 浏览器扩展快速添加
- [ ] 智能推荐相关文档
- [ ] 文档内容全文索引

## 注意事项

1. 所有文档数据存储在本地数据库
2. 导出的JSON文件可以作为备份
3. URL必须是有效的网址格式
4. 标签区分大小写
5. 删除分类会将该分类下的文档移到"未分类"

## 故障排除

### 无法创建文档
- 确保标题和URL字段已填写
- 检查URL格式是否正确（必须包含 http:// 或 https://）

### 搜索无结果
- 检查搜索关键词拼写
- 尝试使用更通用的关键词
- 清除所有过滤器

### 导入失败
- 确保JSON文件格式正确
- 检查文件是否是通过导出功能生成的
- 查看控制台错误信息

## 总结

文档管理功能为用户提供了一个强大而美观的文档链接管理工具，结合搜索、过滤、统计等功能，让文档管理变得高效便捷。
